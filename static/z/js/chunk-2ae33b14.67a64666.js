(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ae33b14"],{"0df3":function(e,i,t){e.exports=t.p+"static/z/img/width-height-fit.a1e29339.png"},"1da1":function(e,i,t){"use strict";t.d(i,"a",(function(){return r}));t("d3b7");function n(e,i,t,n,r,o,a){try{var m=e[o](a),c=m.value}catch(s){return void t(s)}m.done?i(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var i=this,t=arguments;return new Promise((function(r,o){var a=e.apply(i,t);function m(e){n(a,r,o,m,c,"next",e)}function c(e){n(a,r,o,m,c,"throw",e)}m(void 0)}))}}},"934a":function(e,i,t){"use strict";var n=t("f6a0"),r=t.n(n);r.a},"96cf":function(e,i){!function(i){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",m=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",s="object"===typeof e,h=i.regeneratorRuntime;if(h)s&&(e.exports=h);else{h=i.regeneratorRuntime=s?e.exports:{},h.wrap=S;var g="suspendedStart",u="suspendedYield",d="executing",l="completed",f={},p={};p[a]=function(){return this};var v=Object.getPrototypeOf,R=v&&v(v(W([])));R&&R!==n&&r.call(R,a)&&(p=R);var M=P.prototype=x.prototype=Object.create(p);y.prototype=M.constructor=P,P.constructor=y,P[c]=y.displayName="GeneratorFunction",h.isGeneratorFunction=function(e){var i="function"===typeof e&&e.constructor;return!!i&&(i===y||"GeneratorFunction"===(i.displayName||i.name))},h.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(M),e},h.awrap=function(e){return{__await:e}},O(z.prototype),z.prototype[m]=function(){return this},h.AsyncIterator=z,h.async=function(e,i,t,n){var r=new z(S(e,i,t,n));return h.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},O(M),M[c]="Generator",M[a]=function(){return this},M.toString=function(){return"[object Generator]"},h.keys=function(e){var i=[];for(var t in e)i.push(t);return i.reverse(),function t(){while(i.length){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},h.values=W,H.prototype={constructor:H,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],i=e.completion;if("throw"===i.type)throw i.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,r){return m.type="throw",m.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],m=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,i){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=i&&i<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=i,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,i){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&i&&(this.next=i),f},finish:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),D(t),f}},catch:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var t=this.tryEntries[i];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var r=n.arg;D(t)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:W(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),f}}}function S(e,i,t,n){var r=i&&i.prototype instanceof x?i:x,o=Object.create(r.prototype),a=new H(n||[]);return o._invoke=I(e,t,a),o}function w(e,i,t){try{return{type:"normal",arg:e.call(i,t)}}catch(n){return{type:"throw",arg:n}}}function x(){}function y(){}function P(){}function O(e){["next","throw","return"].forEach((function(i){e[i]=function(e){return this._invoke(i,e)}}))}function z(e){function i(t,n,o,a){var m=w(e[t],e,n);if("throw"!==m.type){var c=m.arg,s=c.value;return s&&"object"===typeof s&&r.call(s,"__await")?Promise.resolve(s.__await).then((function(e){i("next",e,o,a)}),(function(e){i("throw",e,o,a)})):Promise.resolve(s).then((function(e){c.value=e,o(c)}),a)}a(m.arg)}var t;function n(e,n){function r(){return new Promise((function(t,r){i(e,n,t,r)}))}return t=t?t.then(r,r):r()}this._invoke=n}function I(e,i,t){var n=g;return function(r,o){if(n===d)throw new Error("Generator is already running");if(n===l){if("throw"===r)throw o;return b()}t.method=r,t.arg=o;while(1){var a=t.delegate;if(a){var m=L(a,t);if(m){if(m===f)continue;return m}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(n===g)throw n=l,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n=d;var c=w(e,i,t);if("normal"===c.type){if(n=t.done?l:u,c.arg===f)continue;return{value:c.arg,done:t.done}}"throw"===c.type&&(n=l,t.method="throw",t.arg=c.arg)}}}function L(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,L(e,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=w(n,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,f;var o=r.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function T(e){var i={tryLoc:e[0]};1 in e&&(i.catchLoc=e[1]),2 in e&&(i.finallyLoc=e[2],i.afterLoc=e[3]),this.tryEntries.push(i)}function D(e){var i=e.completion||{};i.type="normal",delete i.arg,e.completion=i}function H(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function W(e){if(e){var i=e[a];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function i(){while(++n<e.length)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}return{next:b}}function b(){return{value:t,done:!0}}}(function(){return this}()||Function("return this")())},b29c:function(e,i,t){"use strict";t.r(i);var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"preview-container"},[t("div",{ref:"imgPreviewRef",staticClass:"img-preview",on:{mousewheel:e.handleMouseWheel}},[t("div",{staticClass:"cover-div",style:e.genImgRenderStyle,on:{mousedown:e.handleImgRenderMousedown}}),t("img",{staticClass:"img",style:e.genImgRenderStyle,attrs:{src:e.imgurl}})]),t("div",{staticClass:"control"},[t("span",[e._v("当前比率："+e._s(e._f("percent")(e.currentPercent)))]),e._v(" "),t("el-button",{on:{click:function(i){return e.zoomIn(.5)}}},[e._v("放大(+50%)")]),t("el-button",{on:{click:function(i){return e.zoomOut(.5)}}},[e._v("缩小(-50%)")]),t("el-button",{on:{click:e.resize2Adaptive}},[e._v("自适应填充")]),t("el-tag",[e._v("缩放比："+e._s(e.getPrevewImgAndMinimapImgRatio))]),t("div",{ref:"minimapRef",staticClass:"minimap"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showMinimapSelectRect,expression:"showMinimapSelectRect"}],ref:"selectRectRef",staticClass:"select-rect",style:e.genMinimapSelectRectRenderStyle,on:{mousedown:function(i){return i.stopPropagation(),e.handleMinimapSelectRectMousedown(i)}}}),t("img",{staticClass:"minimap-img",style:e.genMinimapImgRenderStyle,attrs:{src:e.imgurl},on:{click:function(i){return i.stopPropagation(),e.handleMinimapImgClick(i)}}})])],1)])},r=[],o=(t("d3b7"),t("96cf"),t("1da1")),a={data:function(){return{mouseStartXMixin:0,mouseStartYMixin:0,deltaXMixin:0,deltaYMixin:0,offsetXMixin:0,offsetYMixin:0}},methods:{mousedownHandlerMixin:function(e){this.resetMouseActionStatusMixin(),this.mouseStartXMixin=e.clientX,this.mouseStartYMixin=e.clientY},mousemoveHandlerMixin:function(e){this.deltaXMixin=e.clientX-this.mouseStartXMixin,this.deltaYMixin=e.clientY-this.mouseStartYMixin,this.offsetXMixin=Math.abs(this.deltaXMixin),this.offsetYMixin=Math.abs(this.deltaYMixin)},resetMouseActionStatusMixin:function(){this.mouseStartXMixin=0,this.mouseStartYMixin=0,this.deltaXMixin=0,this.deltaYMixin=0,this.offsetXMixin=0,this.offsetYMixin=0}}},m=.01,c=4,s={name:"ImgPreview",mixins:[a],data:function(){return{imgurl:t("0df3"),imgOriginSize:{imgOriginWidth:0,imgOriginHeight:0},imgRenderSize:{imgRenderWidth:0,imgRenderHeight:0,imgRenderTop:0,imgRenderLeft:0},imgMousemoveStartOriginPos:{imgMousemoveStartOriginTop:0,imgMousemoveStartOriginLeft:0},imgOriginOnePercentSize:{imgOriginOnePercentWidth:0,imgOriginOnePercentHeight:0},imgPreviewDomSize:{imgPreviewDomWidth:0,imgPreviewDomHeight:0},currentPercent:m,miniMapDomSize:{miniMapDomWidth:0,miniMapDomHeight:0},minimapImgRenderSize:{minimapImgRenderWidth:0,minimapImgRenderHeight:0,minimapImgRenderTop:0,minimapImgRenderLeft:0},minimapSelectRectRenderSize:{minimapSelectRectRenderWidth:0,minimapSelectRectRenderHeight:0,minimapSelectRectRenderTop:0,minimapSelectRectRenderLeft:0},mousedownTarget:""}},computed:{genImgRenderStyle:function(){var e=this.imgRenderSize,i=e.imgRenderWidth,t=e.imgRenderHeight,n=e.imgRenderLeft,r=e.imgRenderTop;return{width:i+"px",height:t+"px",left:n+"px",top:r+"px"}},genMinimapImgRenderStyle:function(){var e=this.minimapImgRenderSize,i=e.minimapImgRenderWidth,t=e.minimapImgRenderHeight,n=e.minimapImgRenderTop,r=e.minimapImgRenderLeft;return{width:i+"px",height:t+"px",left:r+"px",top:n+"px"}},genMinimapSelectRectRenderStyle:function(){var e=this.minimapSelectRectRenderSize,i=e.minimapSelectRectRenderWidth,t=e.minimapSelectRectRenderHeight,n=e.minimapSelectRectRenderTop,r=e.minimapSelectRectRenderLeft;return{width:i+"px",height:t+"px",left:r+"px",top:n+"px"}},genCanMoveImgTop:function(){var e=this.imgRenderSize.imgRenderTop;return e<=this.genMoveImgTopMaxMin.max&&e>=this.genMoveImgTopMaxMin.min},genCanMoveImgLeft:function(){var e=this.imgRenderSize.imgRenderLeft;return e<=this.genMoveImgLeftMaxMin.max||e>=this.genMoveImgLeftMaxMin.min},genMoveImgTopMaxMin:function(){var e=this.imgPreviewDomSize.imgPreviewDomHeight,i=this.imgRenderSize.imgRenderHeight;return{max:0,min:e-i}},genMoveImgLeftMaxMin:function(){var e=this.imgPreviewDomSize.imgPreviewDomWidth,i=this.imgRenderSize.imgRenderWidth;return{max:0,min:e-i}},showMinimapSelectRect:function(){var e=this.imgRenderSize,i=e.imgRenderLeft,t=e.imgRenderTop,n=this.genMoveImgTopMaxMin,r=n.max,o=n.min,a=this.genMoveImgLeftMaxMin,m=a.max,c=a.min;return i<m||i>c||t<r||t>o},getCanMoveImg:function(){return this.genCanMoveImgTop||this.genCanMoveImgLeft},getPrevewImgAndMinimapImgRatio:function(){return this.imgRenderSize.imgRenderWidth/this.minimapImgRenderSize.minimapImgRenderWidth}},filters:{percent:function(e){return Math.floor(100*e)+"%"}},methods:{loadImg:function(){var e=this;return new Promise((function(i,t){var n=new Image;n.src=e.imgurl,n.crossOrigin="anonymous",n.onload=function(){i(n)}}))},resize2Adaptive:function(){var e=this.imgOriginSize,i=e.imgOriginWidth,t=e.imgOriginHeight,n=this.imgPreviewDomSize,r=n.imgPreviewDomWidth,o=n.imgPreviewDomHeight,a=0;if(a=i>=t?r/i:o/t,a!==this.currentPercent){this.currentPercent=a;var m=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentWidth,this.currentPercent),c=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentHeight,this.currentPercent),s=this.calcCenterPosition(this.imgPreviewDomSize.imgPreviewDomWidth,m),h=this.calcCenterPosition(this.imgPreviewDomSize.imgPreviewDomHeight,c);this.imgRenderSize={imgRenderWidth:m,imgRenderHeight:c,imgRenderLeft:s,imgRenderTop:h},this.rerenderMinimapSelectRect()}},zoomIn:function(e){var i=this.currentPercent+e;i>=c&&(i=c),i!==this.currentPercent&&(this.currentPercent=i,this.rerenderImg(),this.rerenderMinimapSelectRect())},zoomOut:function(e){var i=this.currentPercent-e;i<=m&&(i=m),i!==this.currentPercent&&(this.currentPercent=i,this.rerenderImg(),this.rerenderMinimapSelectRect())},rerenderImg:function(){var e=this.imgRenderSize,i=e.imgRenderWidth,t=e.imgRenderHeight,n=e.imgRenderTop,r=e.imgRenderLeft,o=this.imgPreviewDomSize,a=o.imgPreviewDomWidth,m=o.imgPreviewDomHeight,c=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentWidth,this.currentPercent),s=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentHeight,this.currentPercent);this.imgRenderSize.imgRenderWidth=c,this.imgRenderSize.imgRenderHeight=s;var h=0,g=0;if(c<=a&&s<=m)h=this.calcCenterPosition(a,c),g=this.calcCenterPosition(m,s);else{h=this.calcRenderPosition(r,i,c),g=this.calcRenderPosition(n,t,s);var u=this.genMoveImgTopMaxMin,d=u.max,l=u.min,f=this.genMoveImgLeftMaxMin,p=f.max,v=f.min;g>=d&&(g=d),h<=v&&(h=v),g<=l&&(g=l),h>=p&&(h=p),c<=a&&(h=this.calcCenterPosition(a,c)),s<=m&&(g=this.calcCenterPosition(m,s))}this.imgRenderSize.imgRenderLeft=h,this.imgRenderSize.imgRenderTop=g},rerenderMinimapSelectRect:function(){var e=this.imgRenderSize,i=e.imgRenderTop,t=e.imgRenderLeft,n=this.getPrevewImgAndMinimapImgRatio,r=this.imgPreviewDomSize,o=r.imgPreviewDomWidth,a=r.imgPreviewDomHeight,m=this.minimapImgRenderSize,c=m.minimapImgRenderTop,s=m.minimapImgRenderLeft;this.minimapSelectRectRenderSize={minimapSelectRectRenderWidth:o/n,minimapSelectRectRenderHeight:a/n,minimapSelectRectRenderTop:c-i/n,minimapSelectRectRenderLeft:s-t/n}},calcRenderSize:function(e,i){return e*i*100},calcRenderPosition:function(e,i,t){return e-(t-i)/2},calcCenterPosition:function(e,i){return(e-i)/2},handleImgRenderMousedown:function(e){this.mousedownTarget="imgRender",this.handleDocumentMousedown(e)},handleMinimapSelectRectMousedown:function(e){this.mousedownTarget="minimapSelectRect",this.handleDocumentMousedown(e)},handleDocumentMousedown:function(e){this.getCanMoveImg&&(this.mousedownHandlerMixin(e),this.imgMousemoveStartOriginPos={imgMousemoveStartOriginTop:this.imgRenderSize.imgRenderTop,imgMousemoveStartOriginLeft:this.imgRenderSize.imgRenderLeft},document.addEventListener("mousemove",this.handleDocumentMousemove),document.addEventListener("mouseup",this.handleDocumentMouseup))},handleMinimapImgClick:function(e){var i=this;if(this.getCanMoveImg&&this.showMinimapSelectRect){this.resetMouseActionStatusMixin(),this.mousedownTarget="minimapSelectRect",this.imgMousemoveStartOriginPos={imgMousemoveStartOriginTop:this.imgRenderSize.imgRenderTop,imgMousemoveStartOriginLeft:this.imgRenderSize.imgRenderLeft};var t=this.$refs.selectRectRef.getBoundingClientRect(),n=t.left,r=t.top,o=this.minimapSelectRectRenderSize,a=o.minimapSelectRectRenderWidth,m=o.minimapSelectRectRenderHeight;this.mouseStartXMixin=n+a/2,this.mouseStartYMixin=r+m/2,this.$nextTick((function(){i.handleDocumentMousemove(e)}))}},handleDocumentMousemove:function(e){this.mousemoveHandlerMixin(e);var i=this.deltaYMixin,t=this.deltaXMixin,n="imgRender"===this.mousedownTarget?1:-this.getPrevewImgAndMinimapImgRatio;if(this.genCanMoveImgLeft){var r=this.imgMousemoveStartOriginPos.imgMousemoveStartOriginLeft+t*n,o=this.genMoveImgLeftMaxMin,a=o.max,m=o.min;r=r>a?a:r<m?m:r,this.imgRenderSize.imgRenderLeft=r}if(this.genCanMoveImgTop){var c=this.imgMousemoveStartOriginPos.imgMousemoveStartOriginTop+i*n,s=this.genMoveImgTopMaxMin,h=s.max,g=s.min;c=c>h?h:c<g?g:c,this.imgRenderSize.imgRenderTop=c}this.rerenderMinimapSelectRect()},handleDocumentMouseup:function(){this.resetMouseActionStatusMixin(),document.removeEventListener("mousemove",this.handleDocumentMousemove),document.removeEventListener("mouseup",this.handleDocumentMouseup)},handleMouseWheel:function(e){e.preventDefault(),e.stopPropagation();var i=e.wheelDelta||-e.deltaY;i<0?this.zoomOut(.01):this.zoomIn(.01)},initMiniMap:function(){var e=this.$refs.minimapRef,i=e.getBoundingClientRect(),t=i.width,n=i.height,r=this.imgOriginSize,o=r.imgOriginWidth,a=r.imgOriginHeight,m=0;m=o>=a?t/o:n/a;var c=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentWidth,m),s=this.calcRenderSize(this.imgOriginOnePercentSize.imgOriginOnePercentHeight,m),h=this.calcCenterPosition(t,c),g=this.calcCenterPosition(n,s);this.miniMapDomSize={miniMapDomWidth:t,miniMapDomHeight:n},this.minimapImgRenderSize={minimapImgRenderWidth:c,minimapImgRenderHeight:s,minimapImgRenderLeft:h,minimapImgRenderTop:g}},initilize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var t,n,r,o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,e.loadImg();case 3:t=i.sent,e.imgOriginSize={imgOriginWidth:t.width,imgOriginHeight:t.height},e.imgOriginOnePercentSize={imgOriginOnePercentWidth:e.imgOriginSize.imgOriginWidth/100,imgOriginOnePercentHeight:e.imgOriginSize.imgOriginHeight/100},n=e.$refs.imgPreviewRef,r=n.getBoundingClientRect(),o=r.width,a=r.height,e.imgPreviewDomSize={imgPreviewDomWidth:o,imgPreviewDomHeight:a},e.initMiniMap(),e.resize2Adaptive(),i.next=15;break;case 13:i.prev=13,i.t0=i["catch"](0);case 15:case"end":return i.stop()}}),i,null,[[0,13]])})))()}},mounted:function(){this.initilize()}},h=s,g=(t("934a"),t("2877")),u=Object(g["a"])(h,n,r,!1,null,"ac3f53b8",null);i["default"]=u.exports},f6a0:function(e,i,t){}}]);